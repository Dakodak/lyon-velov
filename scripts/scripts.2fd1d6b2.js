"use strict";angular.module("velovApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","uiGmapgoogle-maps","geolocation","ui.bootstrap","angulartics","angulartics.google.analytics","infinite-scroll","djds4rce.angular-socialshare"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/stations",{templateUrl:"views/stations.html",controller:"StationListCtrl",controllerAs:"station.list"}).when("/stations/:id",{templateUrl:"views/detail.html",controller:"StationCtrl",controllerAs:"station"}).when("/fav",{templateUrl:"views/fav.html",controller:"FavCtrl",controllerAs:"fav"}).when("/search/:text",{templateUrl:"views/stations.html",controller:"StationListCtrl",controllerAs:"station.list"}).when("/sitemap",{templateUrl:"views/sitemap.html",controller:"SitemapCtrl",controllerAs:"sitemap"}).when("/map",{templateUrl:"views/interactivemap.html",controller:"InteractivemapCtrl",controllerAs:"map"}).otherwise({redirectTo:"/"}),b.html5Mode(!0),b.hashPrefix("!")}]).config(["uiGmapGoogleMapApiProvider",function(a){a.configure({v:"3.20",libraries:"visualization"})}]).run(function(){angular.element.material.init(),angular.element(document.getElementsByTagName("body")[0]).tooltip({selector:"[data-toggle=tooltip]"})}),angular.module("velovApp").controller("MainCtrl",["$scope","$window","$filter","velov","favorites","geolocation","geocode","metaData","forecast","map","opengraph","$modal",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){a.stations=c("orderBy")(a.stations,"distance")}function n(){a.map.markers=[a.map.markers[0]];for(var b=0;b<a.nearestsAmount;b++)p(a.stations[b])}function o(){j.updateMap(a.stations,a.map,45.7578771,4.832005),m(),n()}function p(b){j.addStationToMarkers(a.map,b)}function q(b,c){a.gpsOn=b,a.pinOn=c}var r="Accueil | Lyon Vélo'v",s="Application pour l'affichage de l'état des stations Vélo'v du Grand Lyon les plus proches du vous.Réalisée par Antoine Caron, Adrien Chaussende et Alexandre Galdéano.";h.setTitle(r),h.setDescription(s),k.setTitle(r),k.setDescription(s),k.setUrl("http://www.lyonvelov.info/"),k.setImage("http://www.lyonvelov.info/images/og-image.jpg"),i.getWeather(45.7578771,4.832005).then(function(b){a.weather=b}),i.getForecast(45.7578771,4.832005).then(function(b){a.forecast=b}),a.toStation=j.toStation,a.incrementNearests=function(){a.nearestsAmount<a.stations.length-1&&(p(a.stations[a.nearestsAmount]),a.nearestsAmount=a.nearestsAmount+1)},a.decrementNearests=function(){if(a.nearestsAmount>1){a.nearestsAmount=a.nearestsAmount-1;var b=a.map.markers;a.map.markers=[];for(var c=0;c<b.length-1;c++)a.map.markers.push(b[c])}},d.getStations().then(function(b){a.map={markers:[],control:{}},a.stations=b,o(),q(!1,!1),a.getLocation=function(b){return g.getAllAdresses(b).then(function(a){return a.map(function(a){return c("limitTo")(a.formatted_address,45)})},function(b){console.log(b),a.customError="La liste des villes du Rhône n'a pas pu être chargée."})},a.change=function(b){void 0!==a.addressSearch&&""!==a.addressSearch&&(void 0===b||void 0!==b&&13===b.which)&&g.getFirstGeo(a.addressSearch).then(function(b){j.updateMap(a.stations,a.map,b.geometry.location.lat,b.geometry.location.lng)?(m(),n(),q(!1,!0)):l.open({templateUrl:"views/modalmessage.html",controller:"ModalmessageCtrl",resolve:{modal:function(){return{title:"Recherche",icon:"mdi-communication-location-off",content:"L'adresse trouvée se situe à plus de 5 kilomètres de la station la plus proche. Veuillez faire une autre recherche."}}}})})},a.nearestsAmount=3,a.geolocate=function(){f.getLocation().then(function(b){j.updateMap(a.stations,a.map,b.coords.latitude,b.coords.longitude)?(m(),n(),q(!0,!1)):(o(),l.open({templateUrl:"views/modalmessage.html",controller:"ModalmessageCtrl",resolve:{modal:function(){return{title:"Géolocalisation",icon:"mdi-device-gps-off",content:"Vous êtes situé à plus de 5 kilomètres de la station la plus proche. Veuillez utiliser la recherche par adresse."}}}}))},function(a){console.log(a),o(),l.open({templateUrl:"views/modalmessage.html",controller:"ModalmessageCtrl",resolve:{modal:function(){return{title:"Géolocalisation",icon:"mdi-device-gps-off",content:"Pour profiter pleinement de ce service vous devriez activer et autoriser la géolocalisation."}}}})})},a.geolocate()})}]),angular.module("velovApp").controller("AboutCtrl",["metaData","opengraph",function(a,b){var c="A propos | Lyon Vélo'v",d="Le mot de développeurs, les informations sur la version de l'application et les liens pour nous contacter.";a.setTitle(c),a.setDescription(d),b.setTitle(c),b.setDescription(d),b.setUrl("http://www.lyonvelov.info/about"),b.setImage("http://www.lyonvelov.info/images/og-image.jpg")}]),angular.module("velovApp").factory("velov",["$http","$filter",function(a,b){var c="https://api.jcdecaux.com/vls/v1/stations",d={contract:"Lyon",apiKey:"8a59dec5b38fdebdc41f0b57a5822999eb75261c"};return{getStations:function(){return a({method:"GET",url:c,params:d}).then(function(a){for(var c=a.data,d=0;d<c.length;d++)c[d].name=b("stationName")(c[d].name);return c},function(a){return a})},getStation:function(e){var f=c+"/"+e;return a({method:"GET",url:f,params:d}).then(function(a){return 200===a.status&&(a.data.name=b("stationName")(a.data.name)),a},function(a){return a})}}}]),angular.module("velovApp").controller("StationListCtrl",["$scope","velov","$routeParams","metaData","opengraph",function(a,b,c,d,e){var f="Liste des stations | Lyon Vélo'v",g="Ici toutes les stations du réseau Vélo'v sont visibles. Vous pouvez les chercher par leur nom.";d.setTitle(f),d.setDescription(g),e.setTitle(f),e.setDescription(g),e.setUrl("http://www.lyonvelov.info/stations"),e.setImage("http://www.lyonvelov.info/images/og-image.jpg"),a.listSize=6,a.incrementListSize=function(){a.listSize=a.listSize+10},b.getStations().then(function(b){null===b.data&&(a.customError="La liste des stations n'a pas pu être chargée."),a.stations=b,void 0!==c.text&&null!==c.text&&(a.searchText=c.text)},function(b){console.log(b),a.customError="La liste des stations n'a pas pu être chargée."})}]),angular.module("velovApp").controller("StationCtrl",["$routeParams","$location","$rootScope","$scope","velov","favorites","map","distance","geolocation","uiGmapGoogleMapApi","metaData","$filter","opengraph",function(a,b,c,d,e,f,g,h,i,j,k,l,m){e.getStation(a.id).then(function(a){if(200===a.status){d.stationFound=!0,d.station=a.data,d.markers=[];var c="Station "+l("stationName")(d.station.name)+" | Lyon Vélo'v",e="Etat de la station de vélo'v : "+l("stationName")(d.station.name)+", contient l'ensemble des informations: adresse, carte, mais également le nombre de vélos et d'emplacements disponibles.";k.setTitle(c),k.setDescription(e),m.setTitle(c),m.setDescription(e),m.setUrl("http://www.lyonvelov.info/stations/"+d.station.number),m.setImage("http://appcache.grandlyon.com/img/velov/thumbs/"+d.station.number+".jpg"),i.getLocation().then(function(a){d.position={latitude:a.coords.latitude,longitude:a.coords.longitude},d.distance=h.getDistanceToStation(d.station,d.position.latitude,d.position.longitude),d.map.markers.push({id:1,coords:{latitude:a.coords.latitude,longitude:a.coords.longitude},options:{draggable:!1,title:"Votre position"}})}),d.favorited=f.isFavorite(d.station),d.map={refresh:!0,center:{latitude:d.station.position.lat,longitude:d.station.position.lng},zoom:17,options:{disableDefaultUI:!0,mapTypeControl:!1},markers:[]},g.addStationToMarkers(d.map,d.station)}else 404===a.status?b.path("/"):d.customError="Les informations de la station n'ont pas pu être récupérées."}),d.favorite=function(){f.favorite(d.station),c.showFavorite=!0,b.path("fav")}}]),angular.module("velovApp").factory("distance",function(){return{haversine:function(a,b,c,d){var e=6371e3,f=a*Math.PI/180,g=c*Math.PI/180,h=(c-a)*Math.PI/180,i=(d-b)*Math.PI/180,j=Math.sin(h/2)*Math.sin(h/2)+Math.cos(f)*Math.cos(g)*Math.sin(i/2)*Math.sin(i/2),k=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j)),l=e*k;return l},getDistanceToStation:function(a,b,c){return this.haversine(a.position.lat,a.position.lng,b,c).toFixed(0)},getDistanceToStations:function(a,b,c){for(var d=0;d<a.length;d++)a[d].distance=parseFloat(this.getDistanceToStation(a[d],b,c));return a}}}),angular.module("velovApp").controller("NavbarCtrl",["$scope","$cookies","$rootScope","$location",function(a,b,c,d){var e=b.getAll();angular.forEach(Object.keys(e),function(a){0===a.indexOf("fav-")&&(c.showFavorite=!0)}),a.searchEv=function(){c.searchText=a.searchBar,d.path("stations")}}]),angular.module("velovApp").controller("FavCtrl",["$window","$scope","$q","velov","favorites","metaData","opengraph","$modal",function(a,b,c,d,e,f,g,h){var i="Stations favorites | Lyon Vélo'v",j="Vos stations favorites et leur état actuel.";f.setTitle(i),f.setDescription(j),g.setTitle(i),g.setDescription(j),g.setUrl("http://www.lyonvelov.info/fav"),g.setImage("http://www.lyonvelov.info/images/og-image.jpg");var k=e.getFavorites();c.all(k).then(function(){var a=[];angular.forEach(k,function(b){a.push(b.$$state.value)}),b.stations=a}),b.unfavorite=function(c){b.stationToUnfav=c;var d=h.open({animation:!0,templateUrl:"views/favModalConfirm.html",controller:"ModalconfirmCtrl",resolve:{station:function(){return b.stationToUnfav}}});d.result.then(function(){if(void 0!==b.stationToUnfav){e.unfavorite(b.stationToUnfav);var c=b.stations.indexOf(b.stationToUnfav);b.stations.splice(c,1),b.stationToUnfav=void 0,0===b.stations.length&&(a.location.href="/")}},function(){b.stationToUnfav=void 0})}}]),angular.module("velovApp").filter("stationName",function(){function a(a,b,c,d){return void 0===d&&(d=1),a.substr(0,b)+c+a.substr(b+d)}return function(b){if(void 0!==b&&b.length>0){var c;if(-1!==b.indexOf("- ")){for(b=b.split("- ")[1];b.length>1&&" "===b.substring(0,1);)b=b.substring(1);b=b.toLowerCase();var d=[" ","-","'","(","/",")"],e=b.length,f=[];f.push({from:"sncf",to:"SNCF"}),f.push({from:"iut",to:"IUT"}),f.push({from:"insa",to:"INSA"}),f.push({from:"xxiii",to:"XXIII"}),f.push({from:"iii",to:"III"}),f.push({from:"ii",to:"II"}),f.push({from:"musee",to:"Musée"}),f.push({from:"metropole",to:"Métropole"}),f.push({from:"chateau",to:"Château"}),f.push({from:"sacre",to:"Sacré"}),f.push({from:"lumiere",to:"Lumière"}),f.push({from:"theatre",to:"Théâtre"}),f.push({from:"martiniere",to:"Martinière"}),f.push({from:"laennec",to:"Laënnec"}),f.push({from:"ile",to:"Île"}),f.push({from:"allee",to:"Allée"}),f.push({from:"ecole",to:"École"}),f.push({from:"etats",to:"États"}),f.push({from:"hopital",to:"Hôpital"}),f.push({from:"°",to:"ème",wholeWord:!1});for(var g=0;g<f.length;g++)for(var h=f[g],i=b.indexOf(h.from);i>=0;){var j=i+h.to.length;(h.wholeWord===!1||(j>=e||d.indexOf(b.charAt(j))>=0)&&(0===i||d.indexOf(b.charAt(i-1))>=0))&&(b=a(b,i,h.to,h.from.length));var k=b.substring(j).indexOf(h.from);i=0>k?-1:j+k}b=a(b,0,b.charAt(0).toUpperCase());for(var l=1;e>l;l++)d.indexOf(b.charAt(l))>=0&&e-1>l&&(b=a(b,l+1,b.charAt(l+1).toUpperCase()));c=b}else c=b;return c}return null}}),angular.module("velovApp").factory("geocode",["$http","$filter",function(a,b){var c="https://maps.googleapis.com/maps/api/geocode/json",d="AIzaSyBl-zwvCtydl5yuh0Qdl50NzrcktHTpoTM";return{getFirstGeo:function(b){return a.get(c,{params:{address:b,sensor:!1,key:d}}).then(function(a){return a.data.results.length>0?a.data.results[0]:null})},getAllAdresses:function(e){return a.get(c,{params:{address:e,sensor:!1,key:d,components:"administrative_area:Rhône"}}).then(function(a){return a.data.results=b("limitTo")(a.data.results,8),a.data.results})}}}]),angular.module("velovApp").factory("favorites",["$cookies","velov",function(a,b){return{favorite:function(b){a.put("fav-"+b.number,null)},unfavorite:function(b){a.remove("fav-"+b.number)},isFavorite:function(b){var c=!1;return angular.forEach(Object.keys(a.getAll()),function(a){a.indexOf(b.number)>-1&&(c=!0)}),c},getFavorites:function(){var c=a.getAll(),d=[];return angular.forEach(Object.keys(c),function(a){0===a.indexOf("fav-")&&d.push(b.getStation(a.split("-")[1]).then(function(a){return 200===a.status?a.data:void 0}))}),d}}}]),angular.module("velovApp").service("metaData",function(){var a="Lyon Vélo'v",b="";return{title:function(){return a},setTitle:function(b){a=b},description:function(){return b},setDescription:function(a){b=a}}}),angular.module("velovApp").controller("HeadCtrl",["$scope","metaData","opengraph",function(a,b,c){a.metaData=b,a.opengraph=c}]),angular.module("velovApp").factory("forecast",["$http",function(a){var b="http://api.openweathermap.org/data/2.5/",c="dae228a0fada9fd86c8cdf6d93004bbc",d=b+"weather",e=b+"forecast";return{getWeather:function(b,e){return a.get(d,{params:{lang:"fr",lat:b,lon:e,units:"metric",APPID:c}}).then(function(a){return a.data},function(a){return a})},getForecast:function(b,d,f){return void 0===f&&(f=3),a.get(e,{params:{lang:"fr",lat:b,lon:d,units:"metric",cnt:f,APPID:c}}).then(function(a){for(var b=0;b<a.data.list.length;b++){var c=new Date(a.data.list[b].dt_txt.replace(" ","T"));c.setHours(c.getHours()+2),a.data.list[b].datetime=c}return a.data},function(a){return a})}}}]),angular.module("velovApp").directive("errSrcTileIcon",function(){return{link:function(a,b){b.bind("error",function(){b.replaceWith("<div class='tile-icon tile-open-station' data-original-title='Station Ouverte' data-placement='top' data-toggle='tooltip'><i class='mdi-maps-directions-bike'></i></div>")})}}}),angular.module("velovApp").directive("stationitem",function(){return{templateUrl:"views/stationitemtemplate.html",restrict:"E",scope:{info:"="}}}),angular.module("velovApp").directive("weatheritem",function(){return{templateUrl:"views/weatheritemtemplate.html",restrict:"E",scope:{info:"=",forecast:"="},controller:["$scope","$interval",function(a,b){a.today=new Date,a.tomorrow=new Date,a.tomorrow.setHours(24+a.tomorrow.getHours()),a.max=3,a.onPause=!1,a.position=0,a.incrementPosition=function(){a.position=(a.position+1)%(a.max+1)},a.decrementPosition=function(){a.position=0===a.position?a.position+a.max:a.position-1};var c=b(a.incrementPosition,5e3);a.increment=function(){b.cancel(c),a.incrementPosition(),c=b(a.incrementPosition,5e3)},a.decrement=function(){b.cancel(c),a.decrementPosition(),c=b(a.incrementPosition,5e3)}}]}}),angular.module("velovApp").factory("map",["$filter","$window","distance",function(a,b,c){return{addMarker:function(a,b,c,d,e,f,g,h,i){void 0!==a&&void 0!==b&&void 0!==c&&void 0!==d&&(void 0===f&&(f=!1),void 0!==a.markers&&Array.isArray(a.markers)||(a.markers=[]),a.markers.push({id:b,coords:{latitude:c,longitude:d},options:{draggabble:f,title:e,icon:g,labelContent:h,labelClass:i}}))},addStationToMarkers:function(b,c,d,e){var f=b.markers.length;this.addMarker(b,f,c.position.lat,c.position.lng,c.available_bikes+" vélos / "+c.available_bike_stands+" emplacements",!1,void 0===d?"images/markerIcons/bike.svg":d,a("stationName")(c.name),void 0===e||e===!0?"label label-info lg-label":"hidden"),b.markers[b.markers.length-1].station=c},updateMap:function(a,b,d,e){for(var f=c.getDistanceToStations(a,d,e),g=-1,h=0;h<f.length;h++){var i=f[h];void 0!==i.distance&&-1===g?g=i.distance:void 0!==i.distance&&g>i.distance&&(g=i.distance)}return g>=5e3?!1:(void 0===b&&(b={}),b.center={latitude:d,longitude:e},b.zoom=16,b.options={disableDefaultUI:!0},b.markers=[],this.addMarker(b,0,d,e,"Votre position"),!0)},getStationCircleIconMarker:function(a){var b=100*a.available_bikes/a.bike_stands,c="images/markerIcons/";return c+="circle",12.5>=b?c+"00.svg":b>=87.25?c+"100.svg":37.25>=b?c+"25.svg":b>=62.75?c+"75.svg":c+"50.svg"},toStation:function(a){void 0!==a.model&&void 0!==a.model.station&&void 0!==a.model.station.number&&(b.location.href="/stations/"+a.model.station.number)}}}]),angular.module("velovApp").service("opengraph",function(){var a,b,c,d="Lyon Vélo'v";return{title:function(){return d},setTitle:function(a){d=a},description:function(){return a},setDescription:function(b){a=b},url:function(){return b},setUrl:function(a){b=a},image:function(){return c},setImage:function(a){c=a}}}),angular.module("velovApp").controller("SitemapCtrl",["velov","metaData","opengraph","$scope",function(a,b,c,d){var e="Plan du site | Lyon Vélo'v",f="Plan du site de l'application pour l'affichage de l'état des stations Vélo'v du Grand Lyon les plus proches du vous.Réalisée par Antoine Caron, Adrien Chaussende et Alexandre Galdéano.";b.setTitle(e),b.setDescription(f),c.setTitle(e),c.setDescription(f),c.setUrl("http://www.lyonvelov.info/sitemap"),c.setImage("http://www.lyonvelov.info/images/og-image.jpg"),a.getStations().then(function(a){d.stations=a})}]),angular.module("velovApp").controller("InteractivemapCtrl",["$scope","$window","velov","favorites","geolocation","metaData","map","opengraph",function(a,b,c,d,e,f,g,h){var i="Carte interactive | Lyon Vélo'v",j="Carte interactive avec toutes les stations de Vélo'v";f.setTitle(i),f.setDescription(j),h.setTitle(i),h.setDescription(j),h.setUrl("http://www.lyonvelov.info/map"),h.setImage("http://www.lyonvelov.info/images/og-image.jpg"),c.getStations().then(function(b){function c(b){void 0===b&&g.updateMap(a.stations,a.map,45.7578771,4.832005),g.updateMap(b,a.map,45.7578771,4.832005)}function d(b){g.addStationToMarkers(a.map,b,g.getStationCircleIconMarker(b,!0),!1)}function f(){for(var b in a.stations)d(a.stations[b]);a.map.center={latitude:45.7578771,longitude:4.832005},a.map.zoom=13,a.map.options.disableDefaultUI=!1}function h(b){if(b.zoom>=16)for(var c=1;c<a.map.markers.length;c++)a.map.markers[c].options.labelClass="label label-info lg-label";else for(var d=1;d<a.map.markers.length;d++)a.map.markers[d].options.icon=g.getStationCircleIconMarker(a.map.markers[d].station),a.map.markers[d].options.labelClass="hidden"}a.map={markers:[]},c(b),a.stations=b,e.getLocation().then(function(b){g.updateMap(a.stations,a.map,b.coords.latitude,b.coords.longitude),f()},function(){f()}),a.toStation=g.toStation,a.eventsHandler=[],a.eventsHandler.zoom_changed=h})}]),angular.module("velovApp").directive("spinner",function(){return{templateUrl:"views/spinnertemplate.html",restrict:"E"}}),angular.module("velovApp").controller("ModalconfirmCtrl",["$scope","$modalInstance","station",function(a,b,c){a.station=c,a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("velovApp").controller("ModalmessageCtrl",["$scope","$modalInstance","modal",function(a,b,c){a.modal=c,a.ok=function(){b.close()}}]),angular.module("velovApp").run(["$templateCache",function(a){a.put("views/about.html",'<div class="container maincontainer"> <div class="alert alert-dismissable alert-danger lead" ng-if="customError"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Oups!</strong> Une erreur est survenue : {{customError}} </div> <div class="alert alert-dismissable alert-warning lead" ng-if="customWarning"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Attention : </strong> {{customWarning}} </div> <div class="col-xs-12"> <div class="card"> <div class="row card-image"> <div class="vid center-block" itemprop="video" itemscope itemtype="http://schema.org/VideoObject"> <meta content="Scène culte du Vélo de la grande Vadrouille avec Bourvil et De Funès" itemprop="caption"> <meta content="https://www.youtube.com/embed/tUFQ1Jak0xo" itemprop="contentUrl"> <meta content="HTML5" itemprop="playerType"> <meta content="Scène culte du Vélo de la grande Vadrouille avec Bourvil et De Funès" itemprop="description"> <meta content="La Grande Vadrouille (scène du vélo)" itemprop="name"> <meta content="https://www.youtube.com/embed/tUFQ1Jak0xo" itemprop="thumbnailUrl"> <meta content="2014-04-26" itemprop="uploadDate"> <iframe allowfullscreen frameborder="0" height="315" src="https://www.youtube.com/embed/tUFQ1Jak0xo" width="560"></iframe> </div> </div> <div itemprop="brand" itemscope itemtype="http://schema.org/Brand"> <meta content="Vélo\'v" itemprop="name"> </div> <div class="row card-content"> <blockquote class="no-border" itemscope itemtype="http://schema.org/BlogPosting"> <meta content="Développeur,Mot,Utilisateurs" itemprop="keywords"> <meta content="2015-09-16" itemprop="dateCreated"> <meta content="2015-09-16" itemprop="dateModified"> <meta content="2015-09-16" itemprop="datePublished"> <meta content="fr" itemprop="inLanguage"> <meta content="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/V%C3%A9lo\'v.jpg/220px-V%C3%A9lo\'v.jpg" itemprop="image"> <h1 class="h1-sm" itemprop="headline">Le Mot des Développeurs</h1> <div class="articleBody" itemprop="articleBody"> <p>"Lyon Vélo\'v" est partie d\'une idée assez simple : fournir un service en ligne facile d\'utilisation afin de pouvoir profiter du réseau Vélo\'v de la ville de Lyon de la manière la plus agréable qu\'il soit.</p> <p>Étant, nous aussi, utilisateurs de ce réseau de vélos en libre service, nous ne trouvions pas l\'application rêvée pour connaître le plus rapidement possible l\'état de la station de Vélo\'v la plus proche de chez nous.</p> <p>Connaissant les technologies du web grâce aux enseignements de notre école (<a href="http://polytech.univ-lyon1.fr">Polytech Lyon</a>) nous avons décidé en septembre 2015 de monter ce projet.</p> <p>L\'application n\'en est qu\'à ses débuts mais beaucoup d\'idées ont déjà été imaginées pour vous et arriveront par la suite.</p> <p>N\'hésitez pas à partager ce site avec le plus grand nombre sur les réseaux sociaux.</p> </div> <small itemprop="citation">Amicalement, <cite title="Source Title">Antoine, Adrien et Alexandre</cite> <div itemprop="author" itemscope itemtype="https://schema.org/Person"> <meta content="Antoine Caron" itemprop="name"> <meta content="Développeur Web, Mobile" itemprop="jobTitle"> <meta content="http://www.antoinecaron.ovh" itemprop="sameAs"> <meta content="1993-01-15" itemprop="birthDate"> </div> <div itemprop="author" itemscope itemtype="https://schema.org/Person"> <meta content="Adrien Chaussende" itemprop="name"> <meta content="Développeur Web, Mobile" itemprop="jobTitle"> </div> <div itemprop="author" itemscope itemtype="https://schema.org/Person"> <meta content="Alexandre Galdéano" itemprop="name"> <meta content="Développeur Web, Mobile" itemprop="jobTitle"> </div> </small> </blockquote> </div> <div class="row card-action"> <a href="http://twitter.com/LyonVelov" target="new_blank">Twitter</a> </div> </div> </div> <div class="col-xs-12"> <div class="well"> <h1 class="h1-sm">Les dernières mises à jours</h1> <div> <h2>Version officielle (v1.1.0)</h2> <p>Cette version apporte beaucoup de corrections, d\'améliorations et aussi de deux nouvelles pages :</p> <ul> <li>Améliorations de l\'aperçu lors du partage sur les réseaux sociaux. </li> <li>Ajout d\'une <a href="/map">carte interactive</a> avec des icônes dynamiques en fonction du remplissage de la station. </li> <li>Ajout d\'un <a href="/sitemap">plan du site</a> pour améliorer l\'accessibilité. </li> <li>Ajout d\'icônes de chargement sur la <a href="http://www.lyonvelov.info">page d\'accueil</a>, la <a href="/stations">liste des stations</a>, la <a href="/map">carte interactive</a> et le détail des stations. </li> <li>Net amélioration du chargement de la <a href="http://www.lyonvelov.info">page d\'accueil</a>.</li> <li>Le zoom de la carte de la <a href="http://www.lyonvelov.info">page d\'accueil</a> s\'adapte à la position des stations. </li> <li>Corrections d\'accents et de majuscules sur les noms des stations.</li> <li>Corrections de bugs et améliorations diverses.</li> </ul> <p>L\'application n\'en est encore qu\'à ses débuts alors si vous avez des idées où même si vous trouvez des bugs, contactez-nous:</p> <ul> <li>Par message sur <a href="http://www.antoinecaron.ovh">le portfolio de l\'un des développeurs</a>. </li> <li>Sur notre <a href="https://twitter.com/LyonVelov">twitter</a>. </li> </ul> </div> <div> <h2>Version officielle (v1.0.0)</h2> <p>Champagne ! Voilà la première version officielle de <a href="http://www.lyonvelov.info">Lyon Vélo\'v</a>. Au programme :</p> <ul> <li>Implémentation des consignes du <a href="https://www.google.com/design/spec/material-design/introduction.html">Material Design</a> sur la <a href="http://www.lyonvelov.info">page d\'Accueil</a>, et sur <a href="/stations/3103">le détail de la station</a>. </li> <li>Ajout d\'une URL de recherche \'/search/{Text}\'.</li> <li>Ajout de la météo en <a href="http://www.lyonvelov.info">page d\'accueil</a>.</li> <li>Scroll infini dans la <a href="/stations">liste des stations.</a></li> <li>Meilleur design sur Mobile.</li> </ul> <p>L\'application n\'en est encore qu\'à ses débuts alors si vous avez des idées où même si vous trouvez des bugs, contactez-nous:</p> <ul> <li>Par message sur <a href="http://www.antoinecaron.ovh">le portfolio de l\'un des développeurs</a>. </li> <li>Sur notre <a href="https://twitter.com/LyonVelov">twitter</a>. </li> </ul> </div> <div> <h2>La première version (v0.1.0)</h2> <p>Cette première version vise à poser les bases de la future application que sera <a href="http://www.lyonvelov.info">Lyon Vélo\'v</a>. Elle contient ce qui nous a semblé le plus important. </p> <ul> <li>La recherche de stations par localisation ou adresse.</li> <li>La recherche de stations par nom.</li> <li>L\'affichage détaillé d\'une station</li> <li>La mise en favoris de stations.</li> </ul> <p>L\'application n\'en est encore qu\'à ses débuts alors si vous avez des idées où même si vous trouvez des bugs, contactez-nous:</p> <ul> <li>Par message sur <a href="http://www.antoinecaron.ovh">le portfolio de l\'un des développeurs</a>. </li> <li>Sur notre <a href="https://twitter.com/LyonVelov">twitter</a>. </li> </ul> </div> </div> </div> </div>'),a.put("views/detail.html",'<div class="container maincontainer"> <div class="alert alert-dismissable alert-danger lead" ng-if="customError"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Oups!</strong> Une erreur est survenue : {{customError}} </div> <div class="alert alert-dismissable alert-warning lead" ng-if="customWarning"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Attention : </strong> {{customWarning}} </div> <spinner ng-if="stationFound === undefined"></spinner> <section ng-if="stationFound"> <div class="col-xs-12"> <ul class="breadcrumb breadcrumb-sp" style="margin-bottom: 5px"> <li> <a href="index.html"> <i class="mdi-action-home"></i> </a> </li> <li> <a href="stations">Stations</a> </li> <li class="active" ng-bind="station.name"></li> </ul> </div> <div class="col-xs-12"> <div class="card" itemscope itemtype="http://schema.org/BikeStore"> <div class="row card-image" itemprop="hasMap" itemscope itemtype="http://schema.org/Map"> <div itemprop="mapType" itemscope itemtype="http://schema.org/MapCategoryType"> <meta name="name" content="Carte de la Station de Vélo\'V | {{station.name}}"> </div> <div class="mainmap"> <ui-gmap-google-map center="map.center" options="map.options" zoom="map.zoom" refresh="map.refresh"> <ui-gmap-markers models="map.markers" coords="\'coords\'" options="\'options\'"> </ui-gmap-markers> </ui-gmap-google-map> </div> <span class="card-title" itemprop="name">{{station.name}}</span> </div> <meta content="Mo-Su" datetime="Mo-Su" itemprop="openingHours"> <meta content="Credit Card" itemprop="paymentAccepted"> <meta content="Euros" itemprop="currenciesAccepted"> <meta content="01 30 79 33 40" itemprop="telephone"> <meta content="contact.velov@jcdecaux.fr" itemprop="email"> <meta content="$" itemprop="priceRange"> <div itemprop="geo" itemscope itemtype="http://schema.org/GeoCoordinates"> <meta content="{{station.position.lat}}" itemprop="latitude"> <meta content="{{station.position.lng}}" itemprop="longitude"> </div> <div itemprop="brand" itemscope itemtype="http://schema.org/Brand"> <meta content="Vélo\'v" itemprop="name"> </div> <div class="row card-content"> <div itemprop="potentialAction" itemscope itemtype="http://schema.org/LikeAction"> <meta itemprop="name" content="Station {{station.name}} ajoutée aux favoris."> <button analytics-event="favorite-{{station.name}}" analytics-on="click" class="btn btn-danger btn-fab btn-raised pull-right" ng-class="[{\'mdi-action-favorite\': favorited},{\'mdi-action-favorite-outline\': !favorited}]" id="btn-fav" ng-click="favorite()"></button> </div> <div class="col-md-6" itemprop="photo" itemscope itemtype="http://schema.org/ImageObject"> <stationitem info="station"></stationitem> </div> <div class="col-md-5"> <div itemprop="address" itemscope itemtype="http://schema.org/PostalAddress" ng-show="station.address.length"> Adresse: <p itemprop="streetAddress" ng-bind="station.address"></p> <meta content="Rhône-Alpes" itemprop="addressRegion"> <meta content="France" itemprop="addressCountry"> </div> <p class="text-muted" ng-if="station.last_update">Dernière actualisation : {{station.last_update |date:\'HH:mm:ss\'}}</p> <p class="text-muted" ng-if="distance">Distance : {{distance | number}} m </p> <div itemprop="potentialAction" itemscope itemtype="http://schema.org/ShareAction"> <meta itemprop="description" content="Partage sur les réseaux sociaux"> <a twitter data-lang="fr" data-url="http://www.lyonvelov.info/stations/{{station.number}}" data-via="LyonVelov" data-size="medium" data-text="Etat de la station &quot;{{station.name}}&quot;"></a> <div gplus class="g-plus" data-size="tall" data-annotation="bubble" data-href="http://www.lyonvelov.info/stations/{{station.number}}" data-action="share"></div> </div> </div> </div> </div> </div> </section> </div>'),a.put("views/fav.html",'<div class="container maincontainer"> <div class="alert alert-dismissable alert-danger lead" ng-if="customError"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Oups!</strong> Une erreur est survenue : {{customError}} </div> <div class="alert alert-dismissable alert-warning lead" ng-if="customWarning"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Attention : </strong> {{customWarning}} </div> <div class="jumbotron"> <h1 class="h1-sm">Voici les informations récentes de vos stations favorites</h1> <p>Vous retrouvez ici toutes les stations que vous avez <i class="mdi-action-favorite mdi-material-red" style="vertical-align: -5px"></i>, vous n\'êtes pas limités par le nombre alors lachez-vous, ajoutez toutes les stations que vous utilisez régulièrement. </p> </div> <div class="list-group no-margin"> <div class="col-md-6" ng-class="[{\'tile-list-favorite-right\': $odd},\r\n         {\'tile-list-favorite-left\': $even}]" ng-repeat="station in stationfiltered = (stations | orderBy:\'name\')"> <button class="close" ng-click="unfavorite(station)" type="button" ng-class="[{\'button-list-favorite-right\': $odd},\r\n         {\'button-list-favorite-left\': $even}]">× </button> <div class="well"> <stationitem info="station"></stationitem> </div> </div> </div> <div class="col-md-12 alert alert-warning" ng-hide="stationfiltered==null || stationfiltered.length"> <h4>Aucun favoris trouvé</h4> <a href="/">Retour à la page d\'accueil</a> </div> </div> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\r\n    <h4 class="modal-title">Confirmation de suppression</h4>\r\n  </div>\r\n  <div class="modal-body">\r\n    <p>Êtes-vous sûr de vouloir supprimer la station "{{station.name}}" de vos favoris ?</p>\r\n  </div>\r\n  <div class="modal-footer">\r\n    <button class="btn btn-default" data-dismiss="modal" ng-click="cancel()" type="button">Annuler</button>\r\n    <button class="btn btn-danger" ng-click="ok()" type="button">Confirmer</button>\r\n  </div></script>'),a.put("views/favmodalconfirm.html",'<div class="modal-header"> <h4 class="modal-title">Confirmation de suppression</h4> </div> <div class="modal-body"> <p>Êtes-vous sûr de vouloir supprimer la station "{{station.name}}" de vos favoris ?</p> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal" ng-click="cancel()" type="button">Annuler</button> <button class="btn btn-danger" ng-click="ok()" type="button">Confirmer</button> </div>'),
a.put("views/interactivemap.html",'<div class="alert alert-dismissable alert-danger lead" ng-if="customError"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Oups!</strong> Une erreur est survenue : {{customError}} </div> <div class="alert alert-dismissable alert-warning lead" ng-if="customWarning"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Attention : </strong> {{customWarning}} </div> <spinner ng-if="stations === undefined"></spinner> <div class="interactivemap" ng-if="stations"> <ui-gmap-google-map center="map.center" events="eventsHandler" options="map.options" zoom="map.zoom"> <ui-gmap-markers models="map.markers" coords="\'coords\'" options="\'options\'" click="toStation"> </ui-gmap-markers> </ui-gmap-google-map> </div>'),a.put("views/main.html",'<div class="container maincontainer"> <div class="alert alert-dismissable alert-danger lead" ng-if="customError"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Oups!</strong> Une erreur est survenue : {{customError}} </div> <div class="alert alert-dismissable alert-warning lead" ng-if="customWarning"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Attention : </strong> {{customWarning}} </div> <section> <div class="row no-margin no-padding"> <div class="col-md-12 no-padding"> <div class="col-xs-10 col-sm-8 col-md-6 col-lg-4 address-bar"> <div class="well well-sm"> <input class="form-control floating-label input-lg" ng-keypress="change($event)" ng-model="addressSearch" placeholder="Saisis ton adresse" type="text" typeahead-loading="loadingLocations" typeahead-no-results="noResults" typeahead="address for address in getLocation($viewValue)"> <div ng-show="noResults"> <i class="glyphicon glyphicon-remove"></i> Aucun résultat trouvé </div> <button class="btn btn-info btn-fab btn-raised pull-right btn-address-bar" data-original-title="Localisation par adresse" data-placement="top" data-toggle="tooltip" ng-class="[\r\n      {\'mdi-communication-location-off\' : !pinOn},\r\n      {\'mdi-communication-location-on\' : pinOn}]" ng-click="change()"></button> </div> </div> <div class="mainmap"> <spinner ng-if="map === undefined"></spinner> <ui-gmap-google-map center="map.center" options="map.options" zoom="map.zoom" control="map.control"> <ui-gmap-markers models="map.markers" coords="\'coords\'" fit="true" options="\'options\'" click="toStation" dorebuildall="true"> </ui-gmap-markers> </ui-gmap-google-map> </div> <button class="btn btn-success btn-fab btn-raised btn-geolocation" ng-class="[\r\n      {\'mdi-device-gps-off\' : !gpsOn},\r\n      {\'mdi-device-gps-fixed\' : gpsOn}]" data-original-title="Utiliser la géolocalisation" data-placement="top" data-toggle="tooltip" ng-click="geolocate()"></button> </div> </div> <div class="row no-margin"> <div class="well col-md-12 no-padding no-margin"> <div class="row"> <div class="col-lg-10 col-sm-9"> <h2>Les stations les plus proches</h2><br> </div> <div class="col-lg-2 col-sm-3 hidden-xs" style="padding: 15px"> <button class="btn btn-fab btn-fab-mini mdi-content-remove" ng-click="decrementNearests()"></button> <span class="lead"> {{nearestsAmount}} </span> <button class="btn btn-fab btn-fab-mini mdi-content-add" ng-click="incrementNearests()"></button> </div> </div> <div class="row"> <div class="col-lg-8 col-md-7"> <spinner ng-if="stations === undefined"></spinner> <div class="list-group"> <div ng-repeat="station in stations | limitTo:nearestsAmount"> <stationitem info="station"></stationitem> <div class="list-group-separator" ng-hide="$last"></div> </div> </div> </div> <div class="col-lg-4 col-md-5 weather"> <spinner ng-if="weather === undefined"></spinner> <weatheritem ng-show="weather" info="weather" forecast="forecast.list" show="3"></weatheritem> </div> </div> </div> </div> </section> </div>'),a.put("views/modalmessage.html",'<div class="modal-header"> <h2 class="modal-title"><i ng-class="modal.icon"></i> {{modal.title}}</h2> </div> <div class="modal-body"> <h3>{{modal.content}}</h3> </div> <div class="modal-footer"> <button class="btn btn-danger" ng-click="ok()" type="button">Ok</button> </div>'),a.put("views/sitemap.html",'<div class="container maincontainer"> <div class="well"> <h1>Plan du site</h1> <ul> <li><a href="/">Page d\'accueil</a></li> <li><a href="stations">Liste des stations</a></li> <li><a href="map">Carte interactive</a></li> <li><a href="about">A propos</a></li> <li>Les stations: <ul class="row"> <div ng-repeat="station in stations" class="col-lg-4 col-sm-6"> <li><a href="stations/{{ station.number }}" ng-bind="station.name"></a></li> </div> </ul> </li> </ul> </div> </div>'),a.put("views/spinnertemplate.html",'<div class="spinner-container"> <svg class="spinner-wheel spinner-wheel-rear" xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 46 46"> <path d="M 43.037529,22.99589 A 20.039165,20.041315 0 0 1 26.907811,42.652116 20.039165,20.041315 0 0 1 4.4845888,30.665369 20.039165,20.041315 0 0 1 11.865199,6.3321456 20.039165,20.041315 0 0 1 37.168193,8.8245392 L 22.998363,22.99589 Z" id="path4152" style="opacity:1;fill:none;stroke:#b71c1c;stroke-width:5.92494059;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"> </svg> <svg class="spinner-biker" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 12 16.799999" height="34" width="24" version="1.1"> <path style="fill:#b71c1c" d="M 7.8,8.8 12,8.8 12,7 8.8,7 6.86,3.73 C 6.57,3.23 6,2.9 5.4,2.9 4.93,2.9 4.5,3.09 4.2,3.4 L 0.5,7.09 C 0.19,7.4 0,7.8 0,8.3 0,8.93 0.33,9.46 0.85,9.77 l 3.35,2.03 0,5 1.8,0 L 6,10.3 3.75,8.65 6.07,6.3 M 9,3.6 c 1,0 1.8,-0.8 1.8,-1.8 C 10.8,0.8 10,0 9,0 8,0 7.2,0.8 7.2,1.8 7.2,2.8 8,3.6 9,3.6 Z"> </svg> <svg class="spinner-wheel spinner-wheel-front" xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 46 46"> <path d="M 43.037529,22.99589 A 20.039165,20.041315 0 0 1 26.907811,42.652116 20.039165,20.041315 0 0 1 4.4845888,30.665369 20.039165,20.041315 0 0 1 11.865199,6.3321456 20.039165,20.041315 0 0 1 37.168193,8.8245392 L 22.998363,22.99589 Z" style="opacity:1;fill:none;stroke:#b71c1c;stroke-width:5.92494059;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"> </svg> </div>'),a.put("views/stationitemtemplate.html",'<div class="row no-margin" itemscope itemtype="http://schema.org/BikeStore" style="margin-top: 15px"> <meta content="Mo-Su" datetime="Mo-Su" itemprop="openingHours"> <meta content="Credit Card" itemprop="paymentAccepted"> <meta content="Euros" itemprop="currenciesAccepted"> <meta content="01 30 79 33 40" itemprop="telephone"> <meta content="contact.velov@jcdecaux.fr" itemprop="email"> <meta content="http://www.lyonvelov.info/stations/{{info.number}}" itemprop="sameAs"> <div itemprop="geo" itemscope itemtype="http://schema.org/GeoCoordinates"> <meta content="{{info.position.lat}}" itemprop="latitude"> <meta content="{{info.position.lng}}" itemprop="longitude"> </div> <div itemprop="brand" itemscope itemtype="http://schema.org/Brand"> <meta content="Vélo\'v" itemprop="name"> </div> <div class="col-md-2 col-sm-3 hidden-xs list-group-item-tile no-padding no-margin"> <a href="stations/{{info.number}}"><div ng-if="info.status == \'OPEN\'"><img alt="icon" class="img-responsive tile-icon no-margin" data-original-title="Station Ouverte" data-placement="top" data-toggle="tooltip" ng-src="http://appcache.grandlyon.com/img/velov/thumbs/{{info.number}}.jpg" err-src-tile-icon></div> <div class="tile-icon tile-closed-station" data-original-title="Station Fermée" data-placement="top" data-toggle="tooltip" ng-hide="info.status == \'OPEN\'"> <i class="mdi-maps-directions-bike"></i></div> </a> </div> <div class="col-md-10 col-sm-9 list-group-item-content"> <div class="row no-padding no-margin"> <div class="col-md-10 col-sm-8 no-padding"> <a href="stations/{{info.number}}"> <h4 class="list-group-item-heading" itemprop="name" ng-bind="info.name"></h4> </a> </div> <div class="col-md-2 col-sm-4 no-padding" ng-show="info.distance">{{info.distance | number}}m <i class="mdi-maps-place mdi-material-red hidden-xs" style="float: left"></i> </div> </div> <div class="row-fluid"> <div class="col-lg-2 col-sm-4 no-padding" ng-class="[\r\n                      {\'text-danger\': info.available_bikes<=2},\r\n                      {\'text-warning\': info.available_bikes<=4},\r\n'+"                      {'text-success': info.available_bikes>4}]\"> <strong> <ng-pluralize count=\"info.available_bikes\" when=\"{'0': '0 Vélo', '1':'1 Vélo',\r\n                     'other': '{} Vélos'}\"></ng-pluralize> </strong> </div> <div class=\"col-lg-10 col-sm-8 no-padding\" ng-class=\"[\r\n                          {'text-danger': info.available_bike_stands<=2},\r\n                          {'text-warning': info.available_bike_stands<=4},\r\n                          {'text-success': info.available_bike_stands>4}]\"> <strong> <ng-pluralize count=\"info.available_bike_stands\" when=\"{'0': '0 Emplacement', '1':'1 Emplacement',\r\n                         'other': '{} Emplacements'}\"></ng-pluralize> </strong> </div> </div> </div> </div>"),a.put("views/stations.html",'<div class="container maincontainer"> <div class="alert alert-dismissable alert-danger lead" ng-if="customError"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Oups!</strong> Une erreur est survenue : {{customError}} </div> <div class="alert alert-dismissable alert-warning lead" ng-if="customWarning"> <button class="close" data-dismiss="alert" type="button">×</button> <strong>Attention : </strong> {{customWarning}} </div> <div class="col-md-12"> <div class="well"> <div class="form-group row"> <h3 class="h3-sm">Liste complète des stations de Vélo\'v</h3> <label class="col-lg-2 control-label" for="search">Rechercher une station:</label> <div class="col-lg-10"> <input class="form-control floating-label" id="search" ng-minlength="3" ng-model="searchText" placeholder="Nom de la station.." type="text" autocapitalize="off" autocorrect="off" typeahead="(station.name) for station in stations | filter:$viewValue | limitTo:8"> </div> </div> </div> <div class="well no-margin"> <div class="row list-group"> <spinner ng-if="stations === undefined"></spinner> <div infinite-scroll="incrementListSize()" infinite-scroll-distance="2" infinite-scroll-immediate-check="true"> <div ng-class="[{\'tile-list-stations\': $odd}]" ng-repeat="station in stationfiltered = (stations | orderBy:\'name\'  | filter:searchText | limitTo: listSize)"> <div class="row no-padding no-margin" ng-if="$even"> <div class="col-md-6"> <stationitem info="stationfiltered[$index]"></stationitem> <div class="list-group-separator" ng-class="[{\'hidden-lg\' : ($index == listSize - 2) || ($index == stationfiltered.length - 2)}]" ng-hide="$last"></div> </div> <div class="col-md-6 tile-list-stations-right" ng-if="$index + 1 < listSize && $index +1 < stationfiltered.length"> <stationitem info="stationfiltered[$index+1]"></stationitem> <div class="list-group-separator" ng-class="[{\'hidden-lg\' : ($index == listSize - 2) || ($index == stationfiltered.length - 2)}]" ng-hide="$last"></div> </div> </div> </div> </div> </div> </div> <div class="alert alert-warning" ng-hide="stationfiltered==null || stationfiltered.length"> <h4>Aucun résultat trouvée pour : "{{searchText}}"</h4> </div> </div> <button class="material-scrolltop" type="button"></button> <script>$(\'body\').materialScrollTop({\r\n      revealElement: \'head\',\r\n      revealPosition: \'bottom\',\r\n      duration: 2000,\r\n      easing: \'easeInOutQuart\',\r\n    });</script> </div>'),a.put("views/weatheritemtemplate.html",'<div> <h4>La météo à Lyon</h4> <span class="mdi-hardware-keyboard-arrow-left" ng-click="decrement()" style="font-size: 34pt;color: rgba(0,0,0,0.25);float: left;position: relative; top: 100px"></span> <span class="mdi-hardware-keyboard-arrow-right" ng-click="increment()" style="font-size: 34pt;color: rgba(0,0,0,0.25);float: right;position: relative; top: 100px"></span> <div class="row" style="height: 270px"> <div class="weather-item" ng-if="position == 0"> <h5>En ce moment</h5> <img class="img-responsive center-block weather-icon" ng-src="images/weatherIcons/{{info.weather[0].icon | limitTo:2}}.png"> <p class="pull-right"> <strong>{{info.main.temp | number : 0}}°C</strong> - Vent : <em>{{info.wind.speed | number : 0}} Km/h</em> </p> </div> <div class="weather-item" ng-repeat="w in forecast | limitTo:max" ng-if="position == $index + 1"> <h5> <span ng-if="(today | date : \'d\') == (w.datetime | date : \'d\')">Aujourd\'hui</span> <span ng-if="(tomorrow | date : \'d\') == (w.datetime | date : \'d\')">Demain</span> <span ng-if="(today | date : \'d\') != (w.datetime | date : \'d\') && (tomorrow | date : \'d\') != (w.datetime | date : \'d\')"> Le {{w.datetime | date : \'d/MM\'}}</span> à <strong>{{w.datetime | date : \'H:mm\'}}</strong></h5> <img class="img-responsive center-block weather-icon" ng-src="images/weatherIcons/{{w.weather[0].icon | limitTo:2}}.png"> <p class="pull-right"> <strong>{{w.main.temp | number : 0}}°C</strong> - Vent : <em>{{w.wind.speed | number : 0}} Km/h</em> </p> </div> </div> </div>')}]);